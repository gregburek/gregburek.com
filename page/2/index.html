<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <!-- Use title if it's in the page YAML frontmatter -->
    <title>
      
      Greg Burek
      
    </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="x-B-7Gh5W7YevI09T48-S4on8MkU9MjG-6XD7aurE7Y" />
    <meta name="google-site-verification" content="hzWlqDEbM4CUsiEb8YrcUdovSZSNx6jySbQkjRXyCCk" />

    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

    <link href="/css/normalize.css" rel="stylesheet" type="text/css" />
    <link href="/css/main.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="//use.typekit.net/rtf4ikk.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <script src="/js/vendor/modernizr-2.6.1.min.js" type="text/javascript"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
         (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
           m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
             })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-22983311-1', 'auto');
      ga('send', 'pageview');

    </script>
  </head>
  <body class="page page_2 page_2_index">
    <!--[if lt IE 7]>
      <p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better experience this site.</p>
    <![endif]-->

    <header>
  <div class="container">
    <h1>
      <a href="../../">Greg Burek</a>
    </h1>
  </div>
</header>


    <div class="container">
      <section>
  <ul>
      <li>
     <article class="writing">
       <h1><a href="../../2010/06/20/iTunes-over-SSH-tunnel/">iTunes library at home accessible over SSH tunneled AFP</a></h1>
       <div class="article-details">
         <div class="article-date">
           <i class="fa fa-paper-plane-o"></i>
           June 20, 2010
           <div class="tags">
             tags:
           </div>
         </div>
       </div>
       <p>Today I freed 150GB of space from my Macbook by moving my music to my Mac Mini
that sits below my TV, at home, behind two firewalls.</p>

<p>First, I <a title="Hardening SSH and Mounting Remote Filesystem in OS X Finder via SSHFS" href="http://tinyapps.org/docs/ssh_osx_and_sshfs.txt">hardened SSH</a> on the mini and setup my laptop to log in without a
password, but I didn&rsquo;t go through the SSHFS stuff, as I like AFP better (for
the moment).  Now, I can access my Mini by running:</p>
<pre class="highlight shell"><code><span class="gp">LAPTOP$ </span>ssh -f -N -p PORT USER@OUTSIDEIP -L 1202:localhost:5900 -L 1203:localhost:548
</code></pre>

<p>Where PORT is the random port I choose when <a title="Hardening SSH and Mounting Remote Filesystem in OS X Finder via SSHFS" href="http://tinyapps.org/docs/ssh_osx_and_sshfs.txt">hardening SSH</a>, USER is the
username on my mini and OUTSIDEIP is the external IP of my cable modem.  Then,
I can exit from Terminal on my laptop, press command-K and run:</p>
<pre class="highlight shell"><code>afp://localhost:1203
</code></pre>

<p>and get the list of shared folders.  Or I can run:</p>
<pre class="highlight shell"><code>vnc://localhost:1202
</code></pre>

<p>and get Screen Sharing with the Mini behind all those firewalls.</p>

<p>Finally, I <a title="Move Your iTunes Library to an External Hard Drive" href="http://lifehacker.com/5261172/move-your-itunes-library-to-an-external-hard-drive">moved my iTunes Library to an external harddrive</a> and hooked up
that beast to the Mini.  By SSHing into my Mini and then running the AFP
command, I can now access my very large iTunes library from anywhere with an
internet connection.</p>

<p>If I would like to end the SSH tunnel, I run:</p>
<pre class="highlight shell"><code>ps auxww | grep -i ssh
</code></pre>

<p>After finding the ID of the process I do:</p>
<pre class="highlight shell"><code><span class="nb">kill</span> -9 SSH_PID
</code></pre>

<p>with the SSH ID.</p>

<p>I will use some applescript to make this &ldquo;connect, mount, launch iTunes&rdquo; dance
a little bit more simple, but I think this is progress, as it has breathed new
life into my 2.5 year-old laptop.</p>

     </article>
     </li>
      <li>
     <article class="writing">
       <h1><a href="../../2010/03/12/Auto-uploading-Google-Docs-from-OSX/">Automatically upload new files to Google Documents from OSX</a></h1>
       <div class="article-details">
         <div class="article-date">
           <i class="fa fa-paper-plane-o"></i>
           March 12, 2010
           <div class="tags">
             tags:
           </div>
         </div>
       </div>
       <h2 id="the-problem">The Problem</h2>

<p>I get many, many, many presentations, spreadsheets and PDFs sent
to me over email. I usually View them through Google Docs or Download them and
let the files launch in their proper programs. There are some times, however,
when I wish I could view or edit these files on my iPhone or on another
computer, usually located in our <a href="http://www.nanotech.ucsb.edu/">cleanroom</a>.
<a href="http://www.dropbox.com/">Dropbox</a> is an incredible service for this, with an
<a href="https://www.dropbox.com/iphoneapp">iPhone app</a> and multi-platform support, but
those fab computers are locked down hard and I can&rsquo;t edit things in the iPhone
app.</p>

<h2 id="the-caveat">The Caveat</h2>

<p>Since I use Gmail for everything, I could just view the file
through the web interface on my iPhone or another computer and import things to
Google Documents with a click.</p>

<p>I recommend this way. I really do. Mostly because my solution is a folder
action applescript with your gmail password in plain text. This is stupid.
Very stupid. Beyond moronic. I would like to get Keychain Access from the
applescript for a better password handling, but a few hours of fiddling yielded
nothing and further thought showed it to be even more insecure to have
scriptable readouts of passwords globally enabled.</p>

<p>So, for the record, this is my hacked together solution.</p>

<h2 id="the-solution">The Solution</h2>

<ol>
<li><p>Download <a href="http://code.google.com/p/google-docs-upload/">google-docs-upload</a> and put it
somewhere. I used /Users/USERNAME/Library/Scripts/GoogleDocs/</p></li>
<li><p>Open Script Editor.app and it should pop up with an Untitled and blank
script window. Copy this into the window:</p></li>
</ol>
<pre class="highlight applescript"><code><span class="k">on</span> <span class="nv">adding</span><span class="w"> </span><span class="nv">folder</span><span class="w"> </span><span class="nb">items</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nv">this_folder</span><span class="w"> </span><span class="nb">after</span><span class="w"> </span><span class="nv">receiving</span><span class="w"> </span><span class="nv">added_items</span><span class="w">
  </span><span class="k">repeat</span><span class="w"> </span><span class="nv">with</span><span class="w"> </span><span class="nv">aFile</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="nv">added_items</span><span class="w">
    </span><span class="nb">do shell script</span><span class="w"> </span><span class="s2">"java -jar /SOMEWHERE/google-docs-upload-1.3.2.jar
      aFile -rf Downloads --skip-all -u YOURUSERNAME -p
      YOURPASSWORD &gt;&gt; /SOMEWHERE/GDocs-upload-log.txt"</span><span class="w">
  </span><span class="k">end</span><span class="w"> </span><span class="k">repeat</span><span class="w">
</span><span class="k">end</span><span class="w"> </span><span class="nv">adding</span><span class="w"> </span><span class="nv">folder</span><span class="w"> </span><span class="nb">items</span><span class="w"> </span><span class="k">to</span><span class="w">
</span></code></pre>

<ol>
<li><p>Replace SOMEWHERE with the path to google-docs-upload, USERNAME with your
OSX username, YOURUSERNAME with your Google username and YOURPASSWORD with your
google password. This script will run when a file is placed in the folder.
Each file is passed to google-docs-upload along with your username and password
and it decides whether it can upload the file. Any output goes to that log
file tacked on the end.</p></li>
<li><p>Save this script under ./Library/Scripts/Folder\ Action\
Scripts/UploadGDocs.scpt</p></li>
<li><p>Right click on your Downloads folder and hover over &ldquo;More&rdquo; until it expands.
Go and click on &ldquo;Configure Folder Actions&hellip;&rdquo;</p></li>
<li><p>Make sure the &ldquo;Enable Folder Actions&rdquo; check box is ticked, then click on the
left &ldquo;+&rdquo; sign, select the Downloads folder and click the Open button. Then,
select UploadGDocs.scpt from the next menu to drop down and click Attach.
Close the Script Editor and the Folder Actions Setup.</p></li>
</ol>

<p>That should do it. Any new file placed in your Downloads folder will be kicked
automatically to Google Docs.</p>

<p>PS: For some reason, whenever I tweak this script, my Downloads folder becomes
Read-Only for my user. I fix this by right clicking on my Downloads folder,
clicking on Get Info, clicking the lock icon in the new window, inputting my
password and then setting the drop-down menu next to my name to Read&amp;Write.
If you know what is causing this, let me know.</p>

     </article>
     </li>
   </ul>

    <p>Page 2 of 2</p>
    <p>
      <a class="pagination" href="../../"><i class="fa fa-angle-double-left"></i> previous</a>
    </p>

</section>

    </div>

    <footer>
  <div class="container">
    <ul class="social-nav">
      <li>
        <a href="https://twitter.com/gregburek">
          <i class="fa fa-twitter-square"></i>
        </a>
      </li>
       <li>
        <a href="https://github.com/gregburek">
          <i class="fa fa fa-github-square"></i>
        </a>
      </li>
      <li>
        <a href="http://lanyrd.com/profile/gregburek/">
          <i class="fa fa fa-map-marker"></i>
        </a>
      </li>
      <li>
        <a href="http://www.linkedin.com/in/gregburek">
          <i class="fa fa fa-linkedin-square"></i>
        </a>
      </li>
      <li>
      <a href="http://www.flickr.com/photos/gregburek/">
          <i class="fa fa fa-flickr"></i>
        </a>
      </li>
     <li>
        <a href="../../feed.xml"><i class="fa fa-rss-square"></i></a>
      </li>
    </ul>
    <nav>
      <ul>
        <li>
        <a href="../../about/">About</a>
        </li>
        <li>
        <a href="/tags/">Tags</a>
        </li>
      </ul>
    </nav>
  </div>
</footer>

    <script src="/js/plugins.js" type="text/javascript"></script>
    <script src="/js/ga.js" type="text/javascript"></script>
  </body>
</html>
